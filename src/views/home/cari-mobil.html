<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FSW Challenge</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link href="./public/assets/src/css/output.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');
      * {
        font-family: 'Open Sans', sans-serif;
      }
      .swiper-pagination {
        position: relative !important;
        margin-top: 25px !important;
      }
    </style>
  </head>
  <body>
    <div
      id="spinner"
      class="fixed inset-0 flex justify-center items-center bg-white"
    >
      <div
        class="w-16 h-16 border-8 border-dashed rounded-full animate-spin border-blue-600"
      ></div>
    </div>
    <main class="scroll-smooth">
      <header>
        <nav class="bg-primary-color-0 fixed w-full z-10">
          <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="relative flex items-center justify-between h-16">
              <div class="flex items-center sm:items-stretch sm:justify-start">
                <div class="flex flex-shrink-0 items-center">
                  <img
                    class="h-8 w-28"
                    src="./public/images/logo.png"
                    alt="logo-header"
                  />
                </div>
              </div>
              <div
                class="absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"
              >
                <div class="hidden sm:ml-6 sm:block">
                  <div class="flex space-x-4">
                    <a
                      href="#our-service"
                      class="nav-link rounded-md px-3 py-2 text-sm font-medium"
                      >Our Service</a
                    >
                    <a
                      href="#why-us"
                      class="nav-link rounded-md px-3 py-2 text-sm font-medium"
                      >Why Us</a
                    >
                    <a
                      href="#testimony"
                      class="nav-link rounded-md px-3 py-2 text-sm font-medium"
                      >Testimonial</a
                    >
                    <a
                      href="#faq"
                      class="nav-link rounded-md px-3 py-2 text-sm font-medium"
                      >Faq</a
                    >
                    <a href="#" class="btn">Register</a>
                  </div>
                </div>
              </div>
              <div class="sm:hidden flex items-center">
                <button
                  type="button"
                  class="btn-nav relative inline-flex items-center justify-center rounded-md p-2 text-[#222222] hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
                  aria-expanded="false"
                >
                  <span class="absolute -inset-0.5"></span>
                  <span class="sr-only">Open main menu</span>
                  <i class="fas fa-bars"></i>
                </button>
              </div>
            </div>
          </div>

          <div
            class="sm:hidden fixed inset-0 items-start justify-end z-40"
            id="mobile-menu"
            style="display: none"
          >
            <div class="absolute inset-0 bg-black opacity-50"></div>

            <div
              class="bg-white w-64 h-full transform ease-in-out duration-300 absolute right-0 py-2 px-4"
            >
              <div class="flex justify-between mb-2">
                <img
                  class="h-8 w-28"
                  src="./public/images/logo.png"
                  alt="logo-navbar"
                />
                <button
                  type="button"
                  class="btn-nav relative inline-flex items-center justify-center rounded-md p-2 text-[#222222] hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
                  aria-controls="mobile-menu"
                  aria-expanded="false"
                >
                  <span class="sr-only">Close main menu</span>
                  <div class="flex-shrink-0 flex items-center"></div>
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="flex-1 flex flex-col justify-between">
                <div class="space-y-1">
                  <a
                    href="#our-service"
                    class="nav-link block rounded-md px-3 py-2 text-base font-medium"
                    aria-current="page"
                    >Our Service</a
                  >
                  <a
                    href="#why-us"
                    class="nav-link block rounded-md px-3 py-2 text-base font-medium"
                    >Why Us</a
                  >
                  <a
                    href="#testimony"
                    class="nav-link block rounded-md px-3 py-2 text-base font-medium"
                    >Testimonial</a
                  >
                  <a
                    href="#faq"
                    class="nav-link block rounded-md px-3 py-2 text-base font-medium"
                    >Faq</a
                  >
                  <a href="#" class="block btn">Register</a>
                </div>
              </div>
            </div>
            <div class="sm:hidden flex-shrink-0 w-14" aria-hidden="true"></div>
          </div>
        </nav>
      </header>
      <section id="home" class="bg-primary-color-0 mx-auto pt-24">
        <div class="flex flex-wrap justify-evenly">
          <div
            class="w-full self-center px-6 sm:px-16 lg:px-24 md:py-16 lg:w-1/2"
          >
            <h1 class="font-bold text-dark text-2xl lg:text-4xl">
              Sewa & Rental Mobil Terbaik di kawasan (Lokasimu)
            </h1>
            <p class="text-dark mt-5 mb-5 leading-relaxed">
              Selamat datang di Binar Car Rental. Kami menyediakan mobil
              kualitas terbaik dengan harga terjangkau. Selalu siap melayani
              kebutuhanmu untuk sewa mobil selama 24 jam.
            </p>
          </div>
          <div
            class="w-full lg:w-1/2 order-1 lg:order-2 flex justify-end items-end"
            data-aos="zoom-out"
          >
            <img
              src="./public/images/img_car.png"
              alt=""
              class="w-full lg:h-full object-cover lg:object-contain"
            />
          </div>
        </div>
      </section>
      <section id="searchBox">
        <div
          class="bg-white py-5 lg:absolute inset-x-0 lg:top-[425px] lg:mx-28 lg:drop-shadow-lg rounded-xl static inset-auto top-auto mx-auto mt-5"
        >
          <div class="max-w-7xl px-4 sm:px-6 lg:px-8">
            <form
              id="form"
              action="javascript:void(0)"
              class="grid grid-cols-1 lg:grid-cols-9 gap-5"
            >
              <div class="relative flex flex-col gap-3 col-span-2">
                <label for="driverType" class="text-dark text-sm"
                  >Tipe Driver</label
                >
                <div class="relative mt-2">
                  <select
                    id="driverType"
                    class="input-form w-full border border-gray-300 rounded-md px-3 py-2 pr-10 appearance-none bg-white"
                  >
                    <option>Pilih Tipe Driver</option>
                    <option value="1">Dengan Sopir</option>
                    <option value="0">Tanpa Sopir</option>
                  </select>
                  <div
                    class="absolute inset-y-0 right-4 flex items-center justify-center pointer-events-none"
                  >
                    <svg
                      class="w-5 h-5 text-gray-400"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M19 9l-7 7-7-7"
                      ></path>
                    </svg>
                  </div>
                </div>
              </div>

              <div class="flex flex-col gap-3 col-span-2">
                <label for="date" class="text-dark text-sm">Tanggal</label>
                <input
                  type="date"
                  id="date"
                  class="input-form w-full border border-gray-300 rounded-md px-3 py-2 mt-2"
                  placeholder="Tanggal"
                />
              </div>
              <div class="flex flex-col gap-3 col-span-2">
                <label for="time" class="text-dark text-sm"
                  >Waktu Jemput/Ambil</label
                >
                <input
                  type="time"
                  id="time"
                  class="input-form w-full border border-gray-300 rounded-md px-3 py-2 mt-2"
                  placeholder="Waktu"
                />
              </div>
              <div class="flex flex-col gap-3 col-span-2">
                <label for="passenger" class="text-dark text-sm"
                  >Jumlah Penumpang (optional)</label
                >
                <input
                  type="number"
                  id="passenger"
                  class="input-form w-full border border-gray-300 rounded-md px-3 py-2 mt-2"
                  placeholder="Jumlah Penumpang"
                />
              </div>
              <div class="flex flex-col justify-end col-span-1 gap-y-5">
                <button
                  type="submit"
                  class="bg-secondary-color-4 text-white py-3 disabled:opacity-50 rounded-md"
                  id="btnSearchCar"
                  disabled
                >
                  Cari Mobil
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>
      <section id="searchResult" class="mx-10 lg:mx-32 lg:pt-40 py-5">
        <div class="col-span-3 text-center hidden" id="searchResultBox">
          <h2 class="text-dark text-md font-bold">Data tidak ditemukan</h2>
        </div>
        <div class="swiper h-full w-full">
          <div class="swiper-wrapper"></div>
          <div class="swiper-pagination"></div>
        </div>
      </section>
      <footer
        class="grid grid-cols-1 lg:grid-cols-6 lg:pt-28 mb-12 gap-5 px-5 lg:px-16 pt-10"
      >
        <div class="flex flex-col gap-3 col-span-2">
          <p class="text-dark text-sm leading-relaxed">
            Jalan Suroyo No. 161 Mayangan Kota Probolonggo 672000
          </p>
          <p class="text-dark text-sm leading-relaxed">
            binarcarrental@gmail.com
          </p>
          <p class="text-dark text-sm leading-relaxed">081-233-334-808</p>
        </div>
        <div class="flex flex-col gap-3">
          <a href="#" class="text-dark text-sm leading-relaxed">Our Service</a>
          <a href="#" class="text-dark text-sm leading-relaxed">Why Us</a>
          <a href="#" class="text-dark text-sm leading-relaxed">Testimonial</a>
          <a href="#" class="text-dark text-sm leading-relaxed">Faq</a>
        </div>
        <div class="flex flex-col gap-3 col-span-2">
          <p class="text-dark text-sm leading-relaxed">Connect with us</p>
          <div class="flex gap-3" data-aos="zoom-in">
            <a
              href="#"
              class="w-8 h-8 rounded-full bg-primary-color-4 flex justify-center items-center"
              ><i class="fab fa-facebook text-white"></i
            ></a>
            <a
              href="#"
              class="w-8 h-8 rounded-full bg-primary-color-4 flex justify-center items-center"
              ><i class="fab fa-twitter text-white"></i
            ></a>
            <a
              href="#"
              class="w-8 h-8 rounded-full bg-primary-color-4 flex justify-center items-center"
              ><i class="fab fa-instagram text-white"></i
            ></a>
            <a
              href="#"
              class="w-8 h-8 rounded-full bg-primary-color-4 flex justify-center items-center"
              ><i class="fab fa-linkedin text-white"></i
            ></a>
            <a
              href="#"
              class="w-8 h-8 rounded-full bg-primary-color-4 flex justify-center items-center"
              ><i class="fab fa-youtube text-white"></i
            ></a>
          </div>
        </div>
        <div class="flex flex-col gap-3">
          <p class="text-dark text-sm leading-relaxed">Copyright Binar 2022</p>
          <img
            class="h-8 w-28"
            src="./public/images/logo.png"
            alt="logo-footer"
            data-aos="zoom-in"
          />
        </div>
      </footer>
    </main>

    <script src="./public/assets/vendor/jQuery/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="./public/assets/src/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        const swiper = new Swiper('.swiper', {
          slidesPerView: 3,
          spaceBetween: 30,
          pagination: {
            el: '.swiper-pagination',
          },
          breakpoints: {
            320: {
              slidesPerView: 1,
              spaceBetween: 10,
            },
            640: {
              slidesPerView: 2,
              spaceBetween: 20,
            },
            768: {
              slidesPerView: 3,
              spaceBetween: 30,
            },
          },
        });
        $('#driverType, #date, #time').change(function () {
          if (
            $('#driverType').val() !== '' &&
            $('#date').val() !== '' &&
            $('#time').val() !== ''
          ) {
            $('#btnSearchCar').prop('disabled', false);
          } else {
            $('#btnSearchCar').prop('disabled', true);
          }
        });
        $('#btnSearchCar').click(function () {
          axios
            .get(
              'http://localhost:3000/api/v1/car/search',
              {
                params: {
                  driverType: $('#driverType').val(),
                  date: $('#date').val(),
                  time: $('#time').val(),
                  passenger: $('#passenger').val(),
                },
              },
              {
                headers: {
                  'Content-Type': 'application/json',
                },
              }
            )
            .then((response) => {
              const data = response.data;
              swiper.removeAllSlides();
              $('#searchResultBox').addClass('hidden');
              if (data.length === 0) {
                $('#searchResultBox').removeClass('hidden');
              } else {
                data.forEach((item) => {
                  swiper.appendSlide(`
                      <div class="swiper-slide flex flex-col gap-5 border border-gray-300 rounded-lg p-5 shadow-sm">
                          <img src="./public/${item.image}" alt="car1" class="w-full h-48 object-cover rounded-lg pb-5" />
                          <div class="flex flex-col gap-4 h-[300px]">
                              <p class="text-dark text-sm">Tipe Mobil</p>
                              <p class="text-dark text-md font-bold">Rp. ${item.rentPerDay}/hari</p>
                              <p class="text-dark text-sm overflow-auto">
                                  ${item.description}
                              </p>
                              <div class="flex gap-3">
                                  <img src="./public/images/fi_users.png" alt="icon-user" />
                                  <p class="text-dark text-sm">${item.capacity} Penumpang</p>
                              </div>
                              <div class="flex gap-3">
                                  <img src="./public/images/fi_settings.png" alt="icon-settings" />
                                  <p class="text-dark text-sm">${item.transmission}</p>
                              </div>
                              <div class="flex gap-3">
                                  <img src="./public/images/fi_calendar.png" alt="icon-calendar" />
                                  <p class="text-dark text-sm">${item.year}</p>
                              </div>
                          </div>
                          <a href="#" class="btn text-center">Sewa Sekarang</a>
                      </div>
                      `);
                });
              }
            })
            .catch((error) => {
              alert(error.response.data.message);
            })
            .finally(() => {
              $('.input-form').val('');
              $('#driverType').val('Pilih Tipe Driver');
              $('#btnSearchCar').prop('disabled', true);
            });
        });
      });
    </script>
  </body>
</html>
